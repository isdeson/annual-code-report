# å¹´åº¦ä»£ç æŠ¥å‘Š

åŸºäºä½ çš„æœ¬åœ°Gitè®°å½•ç”Ÿæˆä½ çš„å¹´åº¦ä¸“å±ä»£ç æŠ¥å‘Šï¼Œçº¯å‰ç«¯ï¼Œçº¯æœ¬åœ°ï¼Œæ— ä»»ä½•æ•°æ®å®‰å…¨é£é™©

Tipsï¼š
  1. ä½¿ç”¨å‰è¯·å…ˆç¡®ä¿ä½ çš„ç”µè„‘ä¸Šå·²ç»å®‰è£…äº†>=18ç‰ˆæœ¬çš„Node.js
  2. å¦‚æœä½ å‚ä¸äº†å¤šä¸ªé¡¹ç›®çš„å¼€å‘å·¥ä½œï¼Œåœ¨è¾“å…¥é¡¹ç›®æ ¹ç›®å½•çš„æ—¶å€™è¯·é€‰æ‹©ä»–ä»¬çš„å…±åŒçš„çˆ¶çº§ç›®å½•

## å®‰è£…

```bash
npm install
```

## ä½¿ç”¨

```bash
npm start
```

å¯åŠ¨åä¼šæç¤ºè¾“å…¥ï¼š
- Git ç”¨æˆ·å/é‚®ç®±ï¼ˆè‡ªåŠ¨ä» git config è·å–ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªé»˜è®¤é€‰ç”¨ï¼Œå¤šä¸ªè¯·æ‰‹åŠ¨é€‰æ‹©éœ€è¦ç»Ÿè®¡çš„ Git ç”¨æˆ·ï¼‰:
- ä½ çš„ Git ä»“åº“æ ¹ç›®å½•è·¯å¾„ï¼ˆå¦‚æœ‰å¤šä¸ªä»“åº“è¯·é€‰æ‹©å…±åŒçš„çˆ¶çº§ç›®å½•ï¼‰:
- ç»Ÿè®¡å¼€å§‹æ—¥æœŸ (YYYY-MM-DD):
- ç»Ÿè®¡ç»“æŸæ—¥æœŸ (YYYY-MM-DD):
- ç»Ÿè®¡å®Œæˆä¹‹åä¼šè‡ªåŠ¨è·³è½¬å¹´åº¦ä»£ç æŠ¥å‘ŠH5é¡µé¢ï¼Œä¹Ÿå¯å‰å¾€é¡¹ç›®æ ¹ç›®å½•/report.jsonæ–‡ä»¶ä¸­æŸ¥çœ‹æŠ¥å‘Šç»Ÿè®¡æ•°æ®

```bash
ğŸš€ å¹´åº¦ä»£ç æŠ¥å‘Šç”Ÿæˆå™¨

ğŸ‘¤ ä½¿ç”¨ Git ç”¨æˆ·: zhangsan <zhangsan@example.com>

? ä½ çš„ Git ä»“åº“æ ¹ç›®å½•è·¯å¾„ï¼ˆå¦‚æœ‰å¤šä¸ªä»“åº“è¯·é€‰æ‹©å…±åŒçš„çˆ¶çº§ç›®å½•ï¼‰: /Users/zhangsan/workspace
? ç»Ÿè®¡å¼€å§‹æ—¥æœŸ (YYYY-MM-DD): 2025-01-01
? ç»Ÿè®¡ç»“æŸæ—¥æœŸ (YYYY-MM-DD): 2026-12-31

ğŸ” æ­£åœ¨æ‰«æ Git ä»“åº“...
ğŸ“ æ‰«æå®Œæˆï¼Œå…±æ‰¾åˆ° 5 ä¸ªä»“åº“ï¼Œå¼€å§‹åˆ†æ...

ğŸ” åˆ†æä¸­: Design/ant-design-mobile
ğŸ” åˆ†æä¸­: Design/nutui-react
ğŸ” åˆ†æä¸­: hello-other/haha-code
ğŸ” åˆ†æä¸­: hello-other/hello-dumi
ğŸ” åˆ†æä¸­: hello-other/other

ğŸ“Š æ•°æ®å‹ç¼©å®Œæˆ: 5992 â†’ 3534 å­—ç¬¦

ğŸŒ æ­£åœ¨æ‰“å¼€å¹´åº¦æŠ¥å‘Šé¡µé¢...

ğŸ‰ æŠ¥å‘Šç”Ÿæˆå®Œæˆï¼Œè¯·å‰å¾€ report.json æŸ¥çœ‹ç»Ÿè®¡æ•°æ®
```

## è¾“å‡º JSON å­—æ®µè¯´æ˜

```jsonc
{
  // ==================== æŠ¥å‘Šå…ƒä¿¡æ¯ ====================
  "generatedAt": "2025-01-15T10:30:00.000Z",    // æŠ¥å‘Šç”Ÿæˆæ—¶é—´
  "range": {
    "since": "2025-01-01",                       // ç»Ÿè®¡å¼€å§‹æ—¥æœŸ
    "until": "2025-12-31"                        // ç»Ÿè®¡ç»“æŸæ—¥æœŸ
  },
  "author": {                                  // è¢«ç»Ÿè®¡çš„ Git ä½œè€…
    "name": "zhangsan",
    "email": "zhangsan@example.com"
  },

  // ==================== æ±‡æ€»æ•°æ® ====================
  "summary": {

    // ---------- åŸºç¡€ç»Ÿè®¡ ----------
    "projectCount": 14,                          // å‚ä¸çš„é¡¹ç›®æ€»æ•°
    "projectCountTip": "ğŸ’ª é¡¹ç›®è¾¾äººï¼Œæ¶‰çŒå¹¿æ³›",   // é¡¹ç›®æ•°æç¤ºæ–‡æ¡ˆ
    
    "totalCommits": 303,                         // æ€»æäº¤æ¬¡æ•°
    "totalCommitsTip": "âš¡ ç¨³å®šè¾“å‡ºä¸­",           // æäº¤æ¬¡æ•°æç¤ºæ–‡æ¡ˆ
    
    "totalInsertions": 50000,                    // æ–°å¢ä»£ç æ€»è¡Œæ•°
    "totalInsertionsTip": "ğŸ“š ç›¸å½“äºå†™äº† 1 æœ¬å°è¯´", // ä»£ç è¡Œæ•°æç¤ºæ–‡æ¡ˆ
    
    "totalDeletions": 10000,                     // åˆ é™¤ä»£ç æ€»è¡Œæ•°
    
    "netLines": 40000,                           // å‡€å¢ä»£ç è¡Œæ•°
    "netLinesTip": "ğŸ“ˆ å‡€å¢ä»£ç é‡å¯è§‚",           // å‡€å¢è¡Œæ•°æç¤ºæ–‡æ¡ˆ
    
    "totalFilesChanged": 500,                    // ä¿®æ”¹è¿‡çš„æ–‡ä»¶æ€»æ•°
    
    "activeDays": 100,                           // æœ‰æäº¤çš„å¤©æ•°
    "activeDaysTip": "â° ç¨³å®šå‡ºå‹¤",               // æ´»è·ƒå¤©æ•°æç¤ºæ–‡æ¡ˆ
    
    "avgLinesPerCommit": 198.02,                 // å¹³å‡æ¯æ¬¡æäº¤æ”¹åŠ¨è¡Œæ•°
    "avgCommitInterval": 24.5,                   // å¹³å‡æäº¤é—´éš”ï¼ˆå°æ—¶ï¼‰
    "coffeeTip": "â˜• æŒ‰æ¯2æ¬¡æäº¤å–1æ¯å’–å•¡ç®—ï¼Œä½ å–äº† 151 æ¯", // å’–å•¡æ¯”å–»

    // ---------- æ—¶é—´è¾¹ç•Œ ----------
    "earliestCommit": {                          // ç¬¬ä¸€æ¬¡æäº¤
      "date": "2025-02-19T09:34:45+08:00",
      "message": "feat: åˆå§‹åŒ–é¡¹ç›®",
      "project": "my-project"                    // æ¥è‡ªå“ªä¸ªé¡¹ç›®
    },
    "latestCommit": {                            // æœ€åä¸€æ¬¡æäº¤
      "date": "2025-12-31T18:00:00+08:00",
      "message": "fix: ä¿®å¤bug",
      "project": "another-project"
    },
    "yearSpanDays": 315,                         // é¦–æ¬¡åˆ°æœ«æ¬¡æäº¤è·¨è¶Šå¤©æ•°

    // ---------- æ—¶é—´åˆ†å¸ƒ ----------
    "hourDistribution": [0,0,0,...],             // 24å°æ—¶æäº¤æ¬¡æ•°åˆ†å¸ƒï¼ˆç´¢å¼•0=0ç‚¹ï¼‰
    "hourLines": [0,0,0,...],                    // 24å°æ—¶ä»£ç è¡Œæ•°åˆ†å¸ƒ
    
    "weekDistribution": [10,50,60,55,65,50,13],  // æ˜ŸæœŸæäº¤æ¬¡æ•°åˆ†å¸ƒï¼ˆç´¢å¼•0=å‘¨æ—¥ï¼‰
    "weekLines": [1000,5000,...],                // æ˜ŸæœŸä»£ç è¡Œæ•°åˆ†å¸ƒ
    
    "monthlyTrend": [                            // æœˆåº¦è¶‹åŠ¿
      { "month": "2025-01", "count": 20, "lines": 5000 }  // æœˆä»½ã€æäº¤æ¬¡æ•°ã€ä»£ç è¡Œæ•°
    ],
    
    "quarterlyComparison": {                     // å­£åº¦æäº¤æ¬¡æ•°å¯¹æ¯”
      "Q1": 80, "Q2": 60, "Q3": 70, "Q4": 93
    },
    "quarterlyLines": {                          // å­£åº¦ä»£ç è¡Œæ•°å¯¹æ¯”
      "Q1": 10000, "Q2": 8000, "Q3": 12000, "Q4": 20000
    },
    "mostProductiveQuarter": ["Q4", 93],         // æœ€é«˜äº§å­£åº¦

    // ---------- æœ€é«˜äº§è®°å½• ----------
    "mostProductiveDay": {                       // æäº¤æœ€å¤šçš„ä¸€å¤©
      "date": "2025-11-27",
      "commits": 26
    },
    "mostProductiveWeek": {                      // æäº¤æœ€å¤šçš„ä¸€å‘¨
      "week": "48-2025",
      "commits": 59
    },

    // ---------- è¿ç»­æ€§ç»Ÿè®¡ ----------
    "longestStreak": 15,                         // æœ€é•¿è¿ç»­æäº¤å¤©æ•°
    "longestStreakTip": "ğŸ’ª æ¯”åšæŒå¥èº«è¿˜ä¹…",      // è¿ç»­æäº¤æç¤ºæ–‡æ¡ˆ
    
    "longestGap": 30,                            // æœ€é•¿æ‘¸é±¼å¤©æ•°
    "longestGapTip": "ğŸ˜´ æ‘¸é±¼å† å†›",               // æ‘¸é±¼æç¤ºæ–‡æ¡ˆ
    
    "longestWorkSession": {                      // å•æ—¥æœ€é•¿å·¥ä½œæ—¶é•¿
      "day": "2025-11-25",
      "minutes": 480,
      "hours": 8.0,
      "project": "my-project"
    },
    "longestWorkSessionTip": "â° ç›¸å½“äºçœ‹äº† 4 éƒ¨ç”µå½±", // å·¥ä½œæ—¶é•¿æç¤ºæ–‡æ¡ˆ

    // ---------- å‘¨æœ«/å¤œé—´ç»Ÿè®¡ ----------
    "weekendVsWeekday": {
      "weekend": 23,                             // å‘¨æœ«æäº¤æ¬¡æ•°
      "weekday": 280,                            // å·¥ä½œæ—¥æäº¤æ¬¡æ•°
      "weekendRate": 0.076                       // å‘¨æœ«æäº¤æ¯”ä¾‹
    },
    "weekendTip": "ğŸŒ´ å‘¨æœ«å¥½å¥½ä¼‘æ¯",              // å‘¨æœ«æç¤ºæ–‡æ¡ˆ
    
    "nightOwlRate": 0.15,                        // å¤œçŒ«å­æ¯”ä¾‹ï¼ˆ22:00-06:00ï¼‰
    "nightOwlTip": "ğŸ˜´ ä½œæ¯è§„å¾‹",                 // å¤œçŒ«å­æç¤ºæ–‡æ¡ˆ
    
    "earlyBirdCount": 15,                        // æ—©èµ·æäº¤æ¬¡æ•°ï¼ˆ06:00-09:00ï¼‰
    "earlyBirdTip": "ğŸ˜´ ä¸æ˜¯æ—©èµ·å‹",              // æ—©èµ·æç¤ºæ–‡æ¡ˆ
    
    "lateNightCount": 5,                         // æ·±å¤œæäº¤æ¬¡æ•°ï¼ˆ02:00-06:00ï¼‰

    // ---------- Commit å†…å®¹åˆ†æ ----------
    "shortestCommit": {                          // å­—æ•°æœ€å°‘çš„ commit
      "message": "fix",
      "length": 3,
      "project": "my-project"
    },
    "longestCommit": {                           // å­—æ•°æœ€å¤šçš„ commit
      "message": "feat: å®Œæˆç”¨æˆ·æ¨¡å—é‡æ„...",
      "length": 120,
      "project": "another-project"
    },
    
    "topKeywords": [                             // é«˜é¢‘å…³é”®è¯ Top20
      { "word": "feat", "count": 150 }
    ],
    
    "emojiStats": [                              // è¡¨æƒ…ç¬¦å·ç»Ÿè®¡ Top10
      { "emoji": "ğŸ‰", "count": 10 }
    ],
    
    "emotionIndex": {                            // æƒ…ç»ªæŒ‡æ•°
      "exclamation": 20,                         // æ„Ÿå¹å·æ€»æ•°
      "question": 5                              // é—®å·æ€»æ•°
    },
    
    "commitTypeDistribution": {                  // Commit ç±»å‹åˆ†å¸ƒ
      "feat": 150,                               // æ–°åŠŸèƒ½
      "fix": 80,                                 // Bugä¿®å¤
      "chore": 30                                // æ‚é¡¹
    },

    // ---------- æ–‡ä»¶ç»Ÿè®¡ ----------
    "topFileTypes": [                            // æœ€å¸¸ä¿®æ”¹çš„æ–‡ä»¶ç±»å‹ Top10
      { "ext": ".tsx", "count": 200 }
    ],
    
    "topChangedFiles": [                         // æœ€å¸¸ä¿®æ”¹çš„æ–‡ä»¶ Top10
      { "file": "src/index.tsx", "count": 50 }
    ],
    
    "fileChanges": {                             // æ–‡ä»¶å¢åˆ ç»Ÿè®¡
      "added": 100,                              // æ–°å¢æ–‡ä»¶æ•°
      "deleted": 20,                             // åˆ é™¤æ–‡ä»¶æ•°
      "net": 80                                  // å‡€å¢æ–‡ä»¶æ•°
    },

    // ---------- åä½œç»Ÿè®¡ ----------
    "topCollaborators": [                        // åä½œè€… Top10
      { "name": "lisi", "email": "lisi@example.com", "commits": 200 }
    ],
    "topCollaboratorsTip": "ğŸ‘¥ å›¢é˜Ÿæ ¸å¿ƒ",         // åä½œè€…æç¤ºæ–‡æ¡ˆ
    
    "mergeCommits": 31,                          // åˆå¹¶æäº¤æ¬¡æ•°
    "revertCommits": 2,                          // å›æ»šæäº¤æ¬¡æ•°
    "hotfixCount": 5,                            // çƒ­ä¿®å¤æ¬¡æ•°
    "hotfixRate": 0.016,                         // çƒ­ä¿®å¤æ¯”ä¾‹
    
    "bigRefactorCount": 10,                      // å¤§å‹é‡æ„æ¬¡æ•°ï¼ˆå•æ¬¡>500è¡Œï¼‰
    "bigRefactorCountTip": "ğŸ› ï¸ é‡æ„å¤§å¸ˆ",        // é‡æ„æç¤ºæ–‡æ¡ˆ
    
    "branchCount": 50,                           // åˆ†æ”¯æ€»æ•°
    "branchesCreated": 25,                       // ç”¨æˆ·åˆ›å»ºçš„åˆ†æ”¯æ•°
    "branchesCreatedTip": "ğŸŒ± åˆ†æ”¯è¾¾äºº",          // åˆ†æ”¯æç¤ºæ–‡æ¡ˆ

    // ---------- é¡¹ç›®ç»Ÿè®¡ ----------
    "topProjects": [                             // Top5 é¡¹ç›®æ’è¡Œ
      {
        "name": "my-project",
        "commits": 100,
        "insertions": 20000,
        "deletions": 5000,
        "badges": ["ğŸ”¥ ç¨³å®šè¾“å‡º"]
      }
    ],
    
    "allProjects": ["my-project", "..."],        // å‚ä¸çš„æ‰€æœ‰é¡¹ç›®åˆ—è¡¨

    // ---------- å¹´åº¦å¾½ç«  ----------
    "badges": [                                  // è·å¾—çš„æ‰€æœ‰å¾½ç« 
      "ğŸŒ… æ—©èµ·é¸Ÿ",        // æ—©èµ·æäº¤å æ¯” > 10%
      "ğŸ¦‰ å¤œçŒ«å­",        // å¤œé—´æäº¤å æ¯” > 20%
      "ğŸ’ª å‘¨æœ«æˆ˜å£«",      // å‘¨æœ«æäº¤å æ¯” > 15%
      "ğŸ”¥ ç¨³å®šè¾“å‡º",      // è¿ç»­æäº¤ >= 7 å¤©
      "ğŸ–ï¸ æ‘¸é±¼ç‹",       // è¿ç»­ä¸æäº¤ >= 14 å¤©
      "ğŸŒ™ æ·±å¤œè‚å¸",      // æ·±å¤œæäº¤ > 10 æ¬¡
      "ğŸ”¨ é‡æ„å¤§å¸ˆ",      // å¤§å‹é‡æ„ >= 10 æ¬¡
      "ğŸ¤ åä½œè¾¾äºº",      // åˆå¹¶æäº¤ > 50 æ¬¡
      "ğŸš€ å¤šé¡¹ç›®è¾¾äºº",    // å‚ä¸é¡¹ç›® >= 10 ä¸ª
      "ğŸ’ åƒæ¬¡æäº¤",      // æ€»æäº¤ >= 1000 æ¬¡
      "ğŸ“ åä¸‡+è¡Œä»£ç "    // æ–°å¢ä»£ç  >= 10ä¸‡è¡Œ
    ],

    // ---------- å¹´åº¦ç§°å·ï¼ˆå”¯ä¸€ï¼‰ ----------
    "annualTitle": {
      "title": "ğŸ“ äº§å‡ºä¹‹ç‹",                    // ç§°å·åç§°
      "desc": "ä»£ç äº§å‡ºæé«˜"                     // ç§°å·æè¿°
    }
    // å¯èƒ½çš„ç§°å·ï¼š
    // ğŸ’ ä»£ç ç‹‚äºº - æäº¤æ¬¡æ•°æƒŠäºº
    // ğŸ“ äº§å‡ºä¹‹ç‹ - ä»£ç äº§å‡ºæé«˜
    // ğŸ¦‰ æš—å¤œè¡Œè€… - æ·±å¤œæ˜¯ä½ çš„ä¸»åœº
    // ğŸŒ… æ™¨å…‰å…ˆé”‹ - æ—©èµ·çš„é¸Ÿå„¿æœ‰ä»£ç å†™
    // ğŸ’ª å‘¨æœ«æˆ˜ç¥ - å‘¨æœ«ä¹Ÿåœ¨ç‡ƒçƒ§
    // ğŸ”¥ æŒä¹‹ä»¥æ’ - è¿ç»­æäº¤å¤©æ•°è¶…é•¿
    // ğŸ”¨ é‡æ„ä¹‹ç¥ - å¤§åˆ€é˜”æ–§æ”¹ä»£ç 
    // ğŸš€ å…¨æ ˆæ¸¸ä¾  - å¤šé¡¹ç›®åŒæ—¶æ¨è¿›
    // ğŸ¤ å›¢é˜Ÿæ¢çº½ - åä½œåˆå¹¶æœ€é¢‘ç¹
    // ğŸ–ï¸ ä½›ç³»å¼€å‘ - å¼ å¼›æœ‰åº¦ï¼Œæ‡‚å¾—ä¼‘æ¯
    // ğŸŒ™ æ·±å¤œè‚å¸ - å‡Œæ™¨è¿˜åœ¨å†™ä»£ç 
  }
}
```

## License

MIT

---

## H5 ç«¯è§£å‹æ•°æ®ç¤ºä¾‹

ç”Ÿæˆçš„é“¾æ¥ä½¿ç”¨ pako å‹ç¼© + base64url ç¼–ç ï¼š

```bash
npm install pako
```

```javascript
import pako from 'pako';

// ä» URL è·å–å‹ç¼©æ•°æ®
const urlParams = new URLSearchParams(window.location.hash.split('?')[1]);
const base64url = urlParams.get('d');

// base64url è§£ç  + è§£å‹
function decompressData(base64urlStr) {
  // è¿˜åŸ base64url ä¸ºæ ‡å‡† base64
  let base64 = base64urlStr.replace(/-/g, '+').replace(/_/g, '/');
  // è¡¥é½ padding
  while (base64.length % 4) base64 += '=';
  
  const binaryStr = atob(base64);
  const bytes = new Uint8Array(binaryStr.length);
  for (let i = 0; i < binaryStr.length; i++) {
    bytes[i] = binaryStr.charCodeAt(i);
  }
  const decompressed = pako.inflate(bytes, { to: 'string' });
  return JSON.parse(decompressed);
}

const reportData = decompressData(base64url);
console.log(reportData);
```
